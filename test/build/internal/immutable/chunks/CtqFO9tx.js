import{ac as L,q as S,ar as M,ad as T,as as g,at as w,$ as x,au as z,i as B,ae as d,u as O,av as W}from"./CCtpzuoy.js";const $=new Set,j=new Set;function D(t,r,s,a={}){function n(e){if(a.capture||H.call(r,e),!e.cancelBubble)return M(()=>s?.call(this,e))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?S(()=>{r.addEventListener(t,n,a)}):r.addEventListener(t,n,a),n}function A(t,r,s,a,n){var e={capture:a,passive:n},o=D(t,r,s,e);(r===document.body||r===window||r===document||r instanceof HTMLMediaElement)&&L(()=>{r.removeEventListener(t,o,e)})}let v=null;function H(t){var r=this,s=r.ownerDocument,a=t.type,n=t.composedPath?.()||[],e=n[0]||t.target;v=t;var o=0,u=v===t&&t.__root;if(u){var c=n.indexOf(u);if(c!==-1&&(r===document||r===window)){t.__root=r;return}var i=n.indexOf(r);if(i===-1)return;c<=i&&(o=c)}if(e=n[o]||t.target,e!==r){T(t,"currentTarget",{configurable:!0,get(){return e||s}});var y=z,q=B;g(null),w(null);try{for(var f,p=[];e!==null;){var h=e.assignedSlot||e.parentNode||e.host||null;try{var _=e["__"+a];if(_!=null&&(!e.disabled||t.target===e))if(x(_)){var[k,...E]=_;k.apply(e,[t,...E])}else _.call(e,t)}catch(b){f?p.push(b):f=b}if(t.cancelBubble||h===r||h===null)break;e=h}if(f){for(let b of p)queueMicrotask(()=>{throw b});throw f}}finally{t.__root=r,delete t.currentTarget,g(y),w(q)}}}function N(t,r,s){if(t==null)return r(void 0),d;const a=O(()=>t.subscribe(r,s));return a.unsubscribe?()=>a.unsubscribe():a}const l=[];function C(t,r=d){let s=null;const a=new Set;function n(u){if(W(t,u)&&(t=u,s)){const c=!l.length;for(const i of a)i[1](),l.push(i,t);if(c){for(let i=0;i<l.length;i+=2)l[i][0](l[i+1]);l.length=0}}}function e(u){n(u(t))}function o(u,c=d){const i=[u,c];return a.add(i),a.size===1&&(s=r(n,e)||d),u(t),()=>{a.delete(i),a.size===0&&s&&(s(),s=null)}}return{set:n,update:e,subscribe:o}}function F(t){let r;return N(t,s=>r=s)(),r}export{$ as a,A as e,F as g,H as h,j as r,N as s,C as w};
