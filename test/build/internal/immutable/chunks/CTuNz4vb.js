import{y as k,ai as E,aJ as S,a6 as T,aK as g,aL as w,M as x,J as z,h as B,A as h,u as J,aM as O}from"./Cfx6kRla.js";const K=new Set,N=new Set;function W(t,r,n,a={}){function s(e){if(a.capture||A.call(r,e),!e.cancelBubble)return S(()=>n?.call(this,e))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?E(()=>{r.addEventListener(t,s,a)}):r.addEventListener(t,s,a),s}function P(t,r,n,a,s){var e={capture:a,passive:s},o=W(t,r,n,e);(r===document.body||r===window||r===document||r instanceof HTMLMediaElement)&&k(()=>{r.removeEventListener(t,o,e)})}let v=null;function A(t){var r=this,n=r.ownerDocument,a=t.type,s=t.composedPath?.()||[],e=s[0]||t.target;v=t;var o=0,u=v===t&&t.__root;if(u){var c=s.indexOf(u);if(c!==-1&&(r===document||r===window)){t.__root=r;return}var i=s.indexOf(r);if(i===-1)return;c<=i&&(o=c)}if(e=s[o]||t.target,e!==r){T(t,"currentTarget",{configurable:!0,get(){return e||n}});var y=z,q=B;g(null),w(null);try{for(var f,p=[];e!==null;){var d=e.assignedSlot||e.parentNode||e.host||null;try{var _=e["__"+a];if(_!=null&&(!e.disabled||t.target===e))if(x(_)){var[L,...M]=_;L.apply(e,[t,...M])}else _.call(e,t)}catch(b){f?p.push(b):f=b}if(t.cancelBubble||d===r||d===null)break;e=d}if(f){for(let b of p)queueMicrotask(()=>{throw b});throw f}}finally{t.__root=r,delete t.currentTarget,g(y),w(q)}}}function D(t,r,n){if(t==null)return r(void 0),h;const a=J(()=>t.subscribe(r,n));return a.unsubscribe?()=>a.unsubscribe():a}const l=[];function j(t,r=h){let n=null;const a=new Set;function s(u){if(O(t,u)&&(t=u,n)){const c=!l.length;for(const i of a)i[1](),l.push(i,t);if(c){for(let i=0;i<l.length;i+=2)l[i][0](l[i+1]);l.length=0}}}function e(u){s(u(t))}function o(u,c=h){const i=[u,c];return a.add(i),a.size===1&&(n=r(s,e)||h),u(t),()=>{a.delete(i),a.size===0&&n&&(n(),n=null)}}return{set:s,update:e,subscribe:o}}function C(t){let r;return D(t,n=>r=n)(),r}export{K as a,P as e,C as g,A as h,N as r,D as s,j as w};
